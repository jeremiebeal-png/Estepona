<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Restaurants du Casco Antiguo — Estepona</title>
  <meta name="description" content="Tous les restaurants du centre historique d’Estepona (Casco Antiguo) — recherche, filtres par budget et tags, liens Google Maps." />
  <style>
  :root{
    --bg:#0b1730; --surface:#0f1f44; --surface-2:#0f1625;
    --primary:#2db4ff; --accent:#00d0b6;
    --text:#eaf2ff; --muted:#a8b6cf; --border:#1a2d5a;
    --radius-xl:18px; --radius-lg:14px; --radius-md:10px;
    --shadow:0 10px 30px rgba(0,0,0,.35);
  }
  html,body{margin:0;padding:0;background:var(--bg);color:var(--text);
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"}
  a{color:inherit;text-decoration:none}
  img{max-width:100%;display:block}
  .container{width:min(1200px,92vw);margin-inline:auto}

  header{position:sticky;top:0;z-index:50;background:linear-gradient(180deg, rgba(11,23,48,.95), rgba(11,23,48,.9));backdrop-filter:saturate(140%) blur(6px);border-bottom:1px solid var(--border)}
  .header-row{display:flex;align-items:center;gap:22px;padding:16px 0}
  .brand{display:flex;align-items:center;gap:12px}
  .brand-logo{width:44px;height:44px;border-radius:12px;overflow:hidden;border:1px solid var(--border);box-shadow:var(--shadow)}
  nav.primary{margin-left:auto;display:flex;gap:12px;flex-wrap:wrap}
  nav.primary a{padding:8px 12px;border-radius:999px;border:1px solid transparent}
  nav.primary a:hover{border-color:var(--border);background:rgba(255,255,255,.04)}
  .search{margin-left:auto;display:flex;gap:8px;align-items:center;background:var(--surface);border:1px solid var(--border);border-radius:999px;padding:8px 12px}
  .search input{background:transparent;border:0;outline:0;color:var(--text);min-width:240px}

  .page-hero{padding:26px 0 6px;border-bottom:1px solid var(--border);background:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(11,23,48,.2) 100%)}
  .page-hero h1{margin:6px 0 4px;font-size:30px}
  .page-hero p{margin:0;color:var(--muted)}
  .filters{margin:18px 0;display:flex;gap:10px;flex-wrap:wrap}
  .filters h3{font-size:14px;color:var(--muted);margin:0 10px 0 0;font-weight:600}
  .chip{display:inline-flex;align-items:center;gap:6px;padding:8px 12px;border-radius:999px;border:1px solid var(--border);background:rgba(255,255,255,.04);cursor:pointer}
  .chip input{accent-color:var(--primary)}

  .grid{display:grid;gap:16px;grid-template-columns:repeat(3,1fr)}
  @media (max-width:980px){.grid{grid-template-columns:1fr}}

  .card{display:grid;grid-template-rows:auto 1fr;gap:10px;border:1px solid var(--border);border-radius:var(--radius-lg);overflow:hidden;background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00))}
  .card .thumb{position:relative;height:clamp(200px,22vw,260px);border-radius:16px;overflow:hidden;background:#0b1322;display:block}
  .card .thumb img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:center}
  .card .body{padding:12px 14px 16px}
  .card .kicker{font-size:12px;color:var(--muted)}
  .card h3{margin:4px 0 6px;font-size:18px;line-height:1.35}
  .meta{display:flex;flex-wrap:wrap;gap:10px;color:var(--muted);font-size:13px}
  .tag{padding:4px 8px;border:1px solid var(--border);border-radius:999px;font-size:12px}

  footer{margin-top:36px;border-top:1px solid var(--border);background:linear-gradient(180deg, rgba(15,31,68,1), rgba(11,23,48,1))}
  .footer-top{padding:20px 0;display:flex;gap:18px;flex-wrap:wrap;align-items:center;justify-content:space-between}
  .footer-bottom{padding:14px 0;color:var(--muted);font-size:14px}
  </style>
</head>
<body>
  <header>
    <div class="container header-row">
      <a class="brand" href="index.html" aria-label="Accueil">
        <span class="brand-logo"><img src="img/logo_bon_plan_estepona.png" alt="Estepona" /></span>
        <strong>Estepona — Bons plans</strong>
      </a>
      <nav class="primary" aria-label="Navigation principale">
        <a href="voir.html">À voir</a>
        <a href="restaurants.html">Restaurants</a>
        <a href="quefaire.html">Que faire</a>
        <a href="cartes.html">Cartes</a>
        <a href="faq.html">FAQ</a>
      </nav>
      <form class="search" role="search" onsubmit="event.preventDefault()">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/><circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="1.6"/></svg>
        <input id="q" type="search" placeholder="Rechercher par nom, rue, spécialité…" aria-label="Rechercher" />
      </form>
    </div>
  </header>

  <section class="page-hero">
    <div class="container">
      <h1>Restaurants du Casco Antiguo</h1>
      <p>Tous les restaurants du centre historique d’Estepona (Casco Antiguo).</p>

      <div class="filters" aria-label="Filtres budget/tags">
        <h3>Budget & tags :</h3>
        <label class="chip"><input type="checkbox" data-filter="€" /> €</label>
        <label class="chip"><input type="checkbox" data-filter="€€" /> €€</label>
        <label class="chip"><input type="checkbox" data-filter="€€€" /> €€€</label>
        <label class="chip"><input type="checkbox" data-filter="tapas" /> Tapas</label>
        <label class="chip"><input type="checkbox" data-filter="italien" /> Italien</label>
        <label class="chip"><input type="checkbox" data-filter="patio" /> Patio</label>
        <label class="chip"><input type="checkbox" data-filter="vin" /> Vin</label>
        <label class="chip"><input type="checkbox" data-filter="créatif" /> Créatif</label>
      </div>
    </div>
  </section>

  <main class="container">
    <div class="grid" id="grid"></div>
  </main>

  <footer>
    <div class="container footer-top">
      <a class="brand" href="index.html"><span class="brand-logo"><img src="img/logo_bon_plan_estepona.png" alt="Estepona" /></span><strong>Estepona — Bons plans</strong></a>
      <div class="meta">Pages: Chiringuitos · Casco Antiguo · Rooftops & Discothèques</div>
    </div>
    <div class="container footer-bottom">© 2025 Bons Plans Estepona · Guide local indépendant</div>
  </footer>

  <!-- Données intégrées -->
  <script id="dataset-casco" type="application/json">
  [
    {
      "nom": "La Casa del Rey",
      "image": "img/casco/casadelrey.jpg",
      "quartier": "Casco Antiguo (Plaza de las Flores)",
      "categorie": "€€",
      "tags": ["tapas","vin","patio"],
      "adresse": "C. Raphael, 7, 29680 Estepona",
      "maps": "https://www.google.com/maps/search/?api=1&query=La+Casa+del+Rey+Calle+Raphael+7+Estepona",
      "note": "Tapas & pinchos + grande carte de vins; terrasse et patio."
    },
    {
      "nom": "El Rincón Toscano",
      "image": "img/casco/rincontoscano.jpg",
      "quartier": "Casco Antiguo",
      "categorie": "€€",
      "tags": ["italien","pâtes","pizza"],
      "adresse": "C. Real, 22, 29680 Estepona",
      "maps": "https://www.google.com/maps/search/?api=1&query=El+Rincon+Toscano+Calle+Real+22+Estepona",
      "note": "Institution italienne du centre historique."
    },
    {
      "nom": "Restaurante El Cortijo",
      "image": "img/casco/cortijo.jpg",
      "quartier": "Casco Antiguo",
      "categorie": "€€",
      "tags": ["andalou","traditionnel"],
      "adresse": "C. Caridad, 64, 29680 Estepona",
      "maps": "https://www.google.com/maps/search/?api=1&query=Restaurante+El+Cortijo+Calle+Caridad+64+Estepona",
      "note": "Spécialités andalouses, déco traditionnelle."
    },
    {
      "nom": "La Bulla Gastrobar",
      "image": "img/casco/labulla.jpg",
      "quartier": "Plaza Ortiz / bord de mer",
      "categorie": "€€",
      "tags": ["fusion","vue mer","cocktails"],
      "adresse": "Av. España, 38, 29680 Estepona",
      "maps": "https://www.google.com/maps/search/?api=1&query=La+Bulla+Gastrobar+Avenida+Espa%C3%B1a+38+Estepona",
      "note": "Vue plage; ouvert du matin au soir."
    },
    {
      "nom": "Galpón 22",
      "image": "img/casco/galpon22.jpg",
      "quartier": "Casco Antiguo",
      "categorie": "€€€",
      "tags": ["méditerranéen","créatif","intimiste"],
      "adresse": "C. Caridad, 91, 29680 Estepona",
      "maps": "https://www.google.com/maps/search/?api=1&query=Galpon+22+Calle+Caridad+91+Estepona",
      "note": "Petite salle gastronomique dans la vieille ville."
    },
    {
      "nom": "The Boab Tree",
      "image": "img/casco/boab.jpg",
      "quartier": "Casco Antiguo",
      "categorie": "€€",
      "tags": ["vin naturel","méditerranéen","art"],
      "adresse": "C. Caridad, 93, 29680 Estepona",
      "maps": "https://www.google.com/maps/search/?api=1&query=The+Boab+Tree+Calle+Caridad+93+Estepona",
      "note": "Cuisine méditerranéenne & vins naturels, galerie d’art."
    },
    {
      "nom": "La Tarantella",
      "image": "img/casco/tarantella.jpg",
      "quartier": "Casco Antiguo",
      "categorie": "€€",
      "tags": ["italien","maison"],
      "adresse": "C. Sta. Ana, 15, 29680 Estepona",
      "maps": "https://www.google.com/maps/search/?api=1&query=La+Tarantella+Calle+Santa+Ana+15+Estepona",
      "note": "Maison historique rénovée; pizzas & plats italiens."
    }
  ]
  </script>

  <script>
    (function() {
      const dataEl = document.getElementById("dataset-casco");
      let items = [];
      try { items = JSON.parse(dataEl.textContent.trim()); } catch(e) { items = []; }
      const grid = document.getElementById("grid");
      const q = document.getElementById("q");
      const chips = Array.from(document.querySelectorAll('.filters input[type="checkbox"]'));

      function render(list) {
        grid.innerHTML = list.map(it => `
          <article class="card">
            <a class="thumb" href="${it.maps||'#'}" target="_blank" rel="noopener">
              <img src="${it.image||'img/placeholder-1.jpg'}" alt="${it.nom||''}" />
            </a>
            <div class="body">
              <div class="kicker">${it.quartier||''} · <span class="tag">${it.categorie||''}</span></div>
              <h3>${it.nom||''}</h3>
              <p class="meta">${(it.tags||[]).map(t=>`<span class="tag">${t}</span>`).join(' ')}</p>
              <p class="meta">Adresse : ${it.adresse||''} · <a href="${it.maps||'#'}" target="_blank" rel="noopener">Voir sur Maps</a></p>
              <p>${it.note||''}</p>
            </div>
          </article>
        `).join('');
      }

      function applyFilters() {
        const txt = (q.value||'').toLowerCase();
        const actives = chips.filter(c=>c.checked).map(c=>c.dataset.filter.toLowerCase());
        const filtered = items.filter(it => {
          const hay = [
            it.nom, it.quartier, it.categorie, ...(it.tags||[]), it.note
          ].join(' ').toLowerCase();
          const matchText = !txt || hay.includes(txt);
          const matchChips = !actives.length || actives.every(a => hay.includes(a));
          return matchText && matchChips;
        });
        render(filtered);
      }

      q.addEventListener('input', applyFilters);
      chips.forEach(c => c.addEventListener('change', applyFilters));
      render(items);
    })();
  </script>
</body>
</html>

